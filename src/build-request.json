{
  "kind": "build_request",
  "title": "Allowlist specified Internet Identity principal as admin",
  "projectName": "Bitcoin Credit Transfer",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-51",
      "text": "Add the Internet Identity principal `ih4li-2xvzb-eiqhx-p746g-mfu4p-qceq3-iq7li-gh4d2-3ajo4-qldaw-iqe` to the backend admin allowlist used by the AccessControl system so this principal is recognized as an admin by `AccessControl.isAdmin(...)` / `isCallerAdmin()` after sign-in and can access the Admin panel route `/admin`.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "ih4li-2xvzb-eiqhx-p746g-mfu4p-qceq3-iq7li-gh4d2-3ajo4-qldaw-iqe"
        ]
      },
      "acceptanceCriteria": [
        "After signing in with Internet Identity as `ih4li-2xvzb-eiqhx-p746g-mfu4p-qceq3-iq7li-gh4d2-3ajo4-qldaw-iqe`, the backend admin check returns true for that principal (i.e., admin gating recognizes the user as an admin).",
        "When authenticated as `ih4li-2xvzb-eiqhx-p746g-mfu4p-qceq3-iq7li-gh4d2-3ajo4-qldaw-iqe`, navigating to `/admin` renders the Admin page and does not show the Admin access denied troubleshooting screen.",
        "When authenticated as `ih4li-2xvzb-eiqhx-p746g-mfu4p-qceq3-iq7li-gh4d2-3ajo4-qldaw-iqe`, any backend methods guarded by `AccessControl.isAdmin(...)` (e.g., `adjustCredits`, `assignInitialAdminCredits`, `transferCreditsToUser`, `makeTestOutcall`) do not trap with an unauthorized error."
      ]
    }
  ],
  "constraints": [
    "Backend must remain a single Motoko actor with all logic in `backend/main.mo` (no additional backend services).",
    "Do not edit any frontend files under the immutable paths listed in SYSTEM_CONTEXT (compose existing UI components instead).",
    "Use English for any user-facing text."
  ],
  "nonGoals": [
    "Do not change the admin verification UX, routing flow, or caching behavior beyond what is required to recognize the specified principal as an admin.",
    "Do not add new authentication providers beyond Internet Identity.",
    "Do not introduce any external databases or backend services."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}