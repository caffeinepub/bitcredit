{
  "kind": "build_request",
  "title": "Remove Bitcoin address format validation and post all addresses directly to blockchain API",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-186",
      "text": "Remove all Bitcoin address format validation checks from the frontend Send BTC form (frontend/src/pages/SendBtcPage.tsx) so that any user-provided destination address text is accepted without pre-validation and submitted directly to the backend sendBTC method.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-last"
        ],
        "quotes": [
          "remove format check to mainnet wallet transfer requests"
        ]
      },
      "acceptanceCriteria": [
        "The Send BTC form accepts any text string in the destination address field without displaying 'invalid format' errors",
        "Form submission is not blocked by address format validation",
        "The destination address is passed as-is to the backend sendBTC call"
      ]
    },
    {
      "id": "REQ-187",
      "text": "Remove all Bitcoin address format validation checks from the backend sendBTC flow (backend/main.mo) so that the provided destination address is passed directly to the blockchain API broadcast method without pre-validation, allowing the blockchain API to determine address validity.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-last"
        ],
        "quotes": [
          "Post any wallet address user inputs to blockchain api for transfer"
        ]
      },
      "acceptanceCriteria": [
        "Backend sendBTC method does not perform Bitcoin address format validation",
        "Destination addresses are passed directly to broadcastTransactionToBlockchain without format checks",
        "Invalid addresses are rejected by the blockchain API, not by app-side validation",
        "The blockchain API response determines whether the address was valid"
      ]
    },
    {
      "id": "REQ-188",
      "text": "Update the frontend Send BTC error handling (frontend/src/pages/SendBtcPage.tsx and frontend/src/utils/errors.ts) to display clear English error messages when the blockchain API rejects an address as invalid, explaining that the address format was not recognized by the blockchain API.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-last"
        ],
        "quotes": [
          "Post any wallet address user inputs to blockchain api for transfer"
        ]
      },
      "acceptanceCriteria": [
        "When the blockchain API returns an address-related error, the UI shows a clear English message",
        "The error message indicates the blockchain API could not process the address",
        "Users understand the address was rejected by the blockchain, not by app validation"
      ]
    },
    {
      "id": "REQ-189",
      "text": "Remove all Bitcoin address format validation checks from the Admin Send BTC to Mainnet Wallet form (frontend/src/pages/AdminPage.tsx) so admins can submit any destination address text directly to the blockchain API without pre-validation.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-last"
        ],
        "quotes": [
          "remove format check to mainnet wallet transfer requests"
        ]
      },
      "acceptanceCriteria": [
        "The Admin Send BTC form accepts any text string in the destination address field",
        "Admin submissions are not blocked by address format validation",
        "The destination address is passed as-is to the backend sendBTC call"
      ]
    }
  ],
  "constraints": [
    "Do not modify frontend/src/hooks/useInternetIdentity.ts or frontend/src/hooks/useInternetIdentity.tsx",
    "Do not modify frontend/src/hooks/useActor.ts",
    "Do not modify frontend/src/main.tsx",
    "Do not modify files in frontend/src/components/ui",
    "Preserve all existing transfer request auditability and ledger accounting",
    "Preserve the existing safe rollback behavior when broadcasts fail"
  ],
  "nonGoals": [
    "Adding new address validation logic or rules",
    "Implementing blockchain API endpoint configuration changes",
    "Modifying the blockchain API broadcast implementation itself",
    "Adding address whitelisting or blacklisting features"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}